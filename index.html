<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NubWuTTaGum</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" ></script>
    <script src="https://www.chartjs.org/samples/latest/utils.js" ></script>
    <script type="text/javascript" src="/graph.js"></script>
  </head>

<body class="position-fixed w-100 h-100 mw-100 mh-100" style="background: #CCFFFF;">
    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="opacity: 100%;">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">หน้าหลัก</a>
            <button class="btn btn-outline-success" id="time" type="submit">จะเอ๋ตัวเอง!?</button>
            <button class="btn btn-outline-success" id="day" type="submit">ผมลุงแดงสอนกีตาร์</button>
        </div>
    </nav>
    <main class="w-100 h-100">
      <div class="bg-dark" style="opacity: 72%;">
        <h1 class="text-primary text-center" style="opacity: 100%;">จำนวนคนในร้านขณะนี้: <span id="amount-now">0</span>/<span id="amount-max">0</span></h1>
        <h2 class="text-secondary text-center" style="opacity: 100%;">จำนวนคนในร้านสะสมในวันนี้: <span id="amount-cum">0</span></h1>
      </div>
      <div class="position-fixed w-50 h-50">
        <canvas id="myChart">
          <script>
            var ctx = document.getElementById("myChart").getContext("2d");
       
       var data = {
         labels: ["0000","0100","0200","0300","0400","0500"],
         datasets: [{
           label: "My First dataset",
           fillColor: "rgba(220,220,220,0.2)",
           strokeColor: "rgba(220,220,220,1)",
           pointColor: "rgba(220,220,220,1)",
           pointStrokeColor: "#fff",
           pointHighlightFill: "#fff",
           pointHighlightStroke: "rgba(220,220,220,1)",
           data: [65, 59, 80, 81, 56, 55, 40]
         }, {
           label: "My Second dataset",
           fillColor: "rgba(151,187,205,0.2)",
           strokeColor: "rgba(151,187,205,1)",
           pointColor: "rgba(151,187,205,1)",
           pointStrokeColor: "#fff",
           pointHighlightFill: "#fff",
           pointHighlightStroke: "rgba(151,187,205,1)",
           data: [28, 48, 40, 19, 86, 27, 90]
         }]
       };
       var options = {
         animation: false,
         //Boolean - If we want to override with a hard coded scale
         scaleOverride: false,
         //** Required if scaleOverride is true **
         //Number - The number of steps in a hard coded scale
         scaleSteps: 10,
         //Number - The value jump in the hard coded scale
         scaleStepWidth: 10,
         //Number - The scale starting value
         scaleStartValue: 0
       };
       
       var myLineChart = new Chart(ctx).Line(data, options);
       
       setInterval(function() {
         setData(data.datasets[0].data);
         setData(data.datasets[1].data);
         setLabels(data.labels);
       
         var myLineChart = new Chart(ctx).Line(data, options);
       }, 2000);
       
       function setLabels(labels) {
         var nextMonthIndex = months.indexOf(labels[labels.length - 1]) + 1;
         var nextMonthName = months[nextMonthIndex] != undefined ? months[nextMonthIndex] : "0000";
         labels.push(nextMonthName);
         labels.shift();
       }
       
       function setData(data) {
         //******function get and push and fetch voiiiiii*********
         // fetch("http://xxx",{
         //   method: "GET",
         // })
         // .then(data.push(data.text))
         data.push(Math.floor(Math.random() * 100) + 1);
         data.shift();
       }
       
       function convertMonthNameToNumber(monthName) {
         var myDate = new Date(monthName + " 1, 2016");
         var monthDigit = myDate.getMonth();
         return isNaN(monthDigit) ? 0 : (monthDigit + 1);
       }
       
       var months = ["0000", "0100", "0200", "0300", "0400", "0500",
         "0600", "0700", "0800", "0900", "1000", "1100","1200","1300","1400","1500","1600","1700","1800","1900","2000","2100","2200","2300","2400"
       ];
       
           </script>
       
        </canvas>
      </div>
    </main>
    
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
</body>

</html>